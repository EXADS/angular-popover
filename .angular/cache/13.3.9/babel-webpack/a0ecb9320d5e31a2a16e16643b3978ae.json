{"ast":null,"code":"// import 'rxjs/add/operator/first';\nimport { first } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/material/form-field\";\nimport * as i3 from \"@material-extended/mde\";\nimport * as i4 from \"@angular/material/input\";\nexport let PageExamplesFormComponent = /*#__PURE__*/(() => {\n  class PageExamplesFormComponent {\n    constructor() {\n      this.popoverOpen = false;\n      this.popoverSwitching = false;\n    }\n\n    ngOnInit() {}\n\n    openPopover(ref, text) {\n      console.log('this.previousRef', this.previousRef);\n      console.log('ref', ref); // if (this.previousRef !== ref) {\n      // this.popoverText = text;\n      // ref.openPopover();\n      // }\n\n      if (this.previousRef !== ref) {\n        console.log('this.previousRef !== ref');\n        ref.openPopover();\n        this.popoverSwitching = false;\n      } else {\n        console.log('this.previousRef === ref');\n        this.popoverSwitching = true;\n        clearTimeout(this.closeTimeout);\n      }\n\n      this.popoverText = text;\n      this.previousRef = ref;\n      this.popoverOpen = true;\n    }\n\n    closePopover(ref) {\n      this.closeTimeout = setTimeout(() => {\n        // if (!this.popoverSwitching) {\n        ref.closePopover();\n        this.popoverOpen = false;\n        this.previousRef = null; // }\n      }, 400);\n    }\n\n    openPopoverOld(ref, text) {\n      console.log('this.previousRef', this.previousRef);\n      console.log('ref', ref); // if (this.previousRef !== ref) {\n      // this.popoverText = text;\n      // ref.openPopover();\n      // }\n\n      if (this.popoverOpen) {\n        console.log('switching');\n        this.popoverSwitching = true; // setTimeout(() => {\n\n        clearTimeout(this.closeTimeout); // }, 200);\n      } else {\n        ref.openPopover();\n        this.popoverSwitching = false;\n      }\n\n      ref.closed.pipe(first()).subscribe(() => {\n        console.log('event', event);\n      });\n      this.popoverText = text;\n      this.previousRef = ref;\n      this.popoverOpen = true;\n    }\n\n    closePopoverOld(ref) {\n      this.closeTimeout = setTimeout(() => {\n        if (!this.popoverSwitching) {\n          ref.closePopover();\n          this.popoverOpen = false;\n          console.log('Close, this.popoverSwitching', this.popoverSwitching);\n        } else {\n          console.log('Don\\'t close, this.popoverSwitching', this.popoverSwitching);\n        }\n      }, 600);\n    }\n\n  }\n\n  PageExamplesFormComponent.ɵfac = function PageExamplesFormComponent_Factory(t) {\n    return new (t || PageExamplesFormComponent)();\n  };\n\n  PageExamplesFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PageExamplesFormComponent,\n    selectors: [[\"app-form\"]],\n    decls: 38,\n    vars: 5,\n    consts: [[1, \"example-form\"], [\"mdePopoverTriggerOn\", \"none\", 1, \"example-full-width\", 3, \"mdePopoverTriggerFor\"], [\"companyTarget\", \"mdePopoverTrigger\"], [\"matInput\", \"\", \"placeholder\", \"Company (disabled)\", \"disabled\", \"\", \"value\", \"Google\", 3, \"focus\", \"blur\"], [\"cellspacing\", \"0\", \"mdePopoverTriggerOn\", \"none\", 1, \"example-full-width\", 3, \"mdePopoverTriggerFor\"], [\"nameTarget\", \"mdePopoverTrigger\"], [1, \"example-full-width\"], [\"matInput\", \"\", \"placeholder\", \"First name\", 3, \"focus\", \"blur\"], [\"matInput\", \"\", \"placeholder\", \"Long Last Name That Will Be Truncated\", 3, \"focus\", \"blur\"], [\"mdeFocusTrapEnabled\", \"false\", \"mdePopoverPositionY\", \"below\", \"mdePopoverPositionX\", \"before\", \"mdePopoverOffsetY\", \"0\", \"mdePopoverOffsetX\", \"250\"], [\"inputPopover\", \"mdePopover\"], [1, \"input-popover\", \"mat-elevation-z1\"], [\"mdePopoverTriggerOn\", \"none\", 3, \"mdePopoverTriggerFor\"], [\"addressTarget\", \"mdePopoverTrigger\"], [\"matInput\", \"\", \"placeholder\", \"Address\", 3, \"focus\", \"blur\"], [\"matInput\", \"\", \"placeholder\", \"Address 2\", 3, \"focus\", \"blur\"], [\"cellspacing\", \"0\", 1, \"example-full-width\"], [\"matInput\", \"\", \"placeholder\", \"City\", 3, \"focus\", \"blur\"], [\"matInput\", \"\", \"placeholder\", \"State\", 3, \"focus\", \"blur\"], [\"matInput\", \"\", \"maxlength\", \"5\", \"placeholder\", \"Postal Code\", \"value\", \"94043\", 3, \"focus\", \"blur\"], [\"postalCode\", \"\"], [\"align\", \"end\"]],\n    template: function PageExamplesFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r5 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"form\", 0)(1, \"mat-form-field\", 1, 2)(3, \"input\", 3);\n        i0.ɵɵlistener(\"focus\", function PageExamplesFormComponent_Template_input_focus_3_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r0 = i0.ɵɵreference(2);\n\n          return ctx.openPopover(_r0, \"Your company name.\");\n        })(\"blur\", function PageExamplesFormComponent_Template_input_blur_3_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r0 = i0.ɵɵreference(2);\n\n          return ctx.closePopover(_r0);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"table\", 4, 5)(6, \"tr\")(7, \"td\")(8, \"mat-form-field\", 6)(9, \"input\", 7);\n        i0.ɵɵlistener(\"focus\", function PageExamplesFormComponent_Template_input_focus_9_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r1 = i0.ɵɵreference(5);\n\n          return ctx.openPopover(_r1, \"Your legal First Name.\");\n        })(\"blur\", function PageExamplesFormComponent_Template_input_blur_9_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r1 = i0.ɵɵreference(5);\n\n          return ctx.closePopover(_r1);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"td\")(11, \"mat-form-field\", 6)(12, \"input\", 8);\n        i0.ɵɵlistener(\"focus\", function PageExamplesFormComponent_Template_input_focus_12_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r1 = i0.ɵɵreference(5);\n\n          return ctx.openPopover(_r1, \"Your legal Last Name.\");\n        })(\"blur\", function PageExamplesFormComponent_Template_input_blur_12_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r1 = i0.ɵɵreference(5);\n\n          return ctx.closePopover(_r1);\n        });\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(13, \"mde-popover\", 9, 10)(15, \"div\", 11);\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"p\", 12, 13)(19, \"mat-form-field\", 6)(20, \"textarea\", 14);\n        i0.ɵɵlistener(\"focus\", function PageExamplesFormComponent_Template_textarea_focus_20_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r3 = i0.ɵɵreference(18);\n\n          return ctx.openPopover(_r3, \"Your home address line 1.\");\n        })(\"blur\", function PageExamplesFormComponent_Template_textarea_blur_20_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r3 = i0.ɵɵreference(18);\n\n          return ctx.closePopover(_r3);\n        });\n        i0.ɵɵtext(21, \"1600 Amphitheatre Pkwy\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"mat-form-field\", 6)(23, \"textarea\", 15);\n        i0.ɵɵlistener(\"focus\", function PageExamplesFormComponent_Template_textarea_focus_23_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r3 = i0.ɵɵreference(18);\n\n          return ctx.openPopover(_r3, \"Your home address line 2.\");\n        })(\"blur\", function PageExamplesFormComponent_Template_textarea_blur_23_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r3 = i0.ɵɵreference(18);\n\n          return ctx.closePopover(_r3);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(24, \"table\", 16)(25, \"tr\")(26, \"td\")(27, \"mat-form-field\", 6)(28, \"input\", 17);\n        i0.ɵɵlistener(\"focus\", function PageExamplesFormComponent_Template_input_focus_28_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r3 = i0.ɵɵreference(18);\n\n          return ctx.openPopover(_r3, \"What's your home City?\");\n        })(\"blur\", function PageExamplesFormComponent_Template_input_blur_28_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r3 = i0.ɵɵreference(18);\n\n          return ctx.closePopover(_r3);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(29, \"td\")(30, \"mat-form-field\", 6)(31, \"input\", 18);\n        i0.ɵɵlistener(\"focus\", function PageExamplesFormComponent_Template_input_focus_31_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r3 = i0.ɵɵreference(18);\n\n          return ctx.openPopover(_r3, \"What's your home Sate?\");\n        })(\"blur\", function PageExamplesFormComponent_Template_input_blur_31_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r3 = i0.ɵɵreference(18);\n\n          return ctx.closePopover(_r3);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(32, \"td\")(33, \"mat-form-field\", 6)(34, \"input\", 19, 20);\n        i0.ɵɵlistener(\"focus\", function PageExamplesFormComponent_Template_input_focus_34_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r3 = i0.ɵɵreference(18);\n\n          return ctx.openPopover(_r3, \"What's your home Postal Code?\");\n        })(\"blur\", function PageExamplesFormComponent_Template_input_blur_34_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r3 = i0.ɵɵreference(18);\n\n          return ctx.closePopover(_r3);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"mat-hint\", 21);\n        i0.ɵɵtext(37);\n        i0.ɵɵelementEnd()()()()()();\n      }\n\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(14);\n\n        const _r4 = i0.ɵɵreference(35);\n\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"mdePopoverTriggerFor\", _r2);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"mdePopoverTriggerFor\", _r2);\n        i0.ɵɵadvance(12);\n        i0.ɵɵtextInterpolate1(\" \", ctx.popoverText, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"mdePopoverTriggerFor\", _r2);\n        i0.ɵɵadvance(20);\n        i0.ɵɵtextInterpolate1(\"\", _r4.value.length, \" / 5\");\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.NgForm, i2.MatFormField, i3.MdePopoverTrigger, i4.MatInput, i3.MdePopover, i2.MatHint],\n    styles: [\"[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;height:calc(100vh - 64px)}.example-form[_ngcontent-%COMP%]{width:500px}.example-full-width[_ngcontent-%COMP%]{width:100%}.input-popover[_ngcontent-%COMP%]{background:#ffffff;padding:20px;width:200px;box-sizing:border-box}\"]\n  });\n  return PageExamplesFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}